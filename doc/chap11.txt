  
  [1X11 [33X[0;0YRacks and quandles[133X[101X
  
  [33X[0;0YA  [13Xrack[113X  is  a  right  quasigroup satisfying the right self-distributive law
  [23X(x*y)*z = (x*z)*(y*z)[123X. A [13Xquandle[113X is an idempotent rack.[133X
  
  [33X[0;0YA rack [23XQ[123X is [13Xhomogeneous[113X if its automorphism group acts transitively on [23XQ[123X.[133X
  
  [33X[0;0YA rack [23XQ[123X is [13Xconnected[113X if its right multiplication group acts transitively on
  [23XQ[123X.[133X
  
  [33X[0;0YA  rack  is  [13Xlatin[113X  if  it  is a quasigroup. A latin rack is automatically a
  (latin) quandle.[133X
  
  [33X[0;0YA latin rack is connected and a connected rack is homogeneous.[133X
  
  [33X[0;0YConstructors  of  [5XRightQuasigroups[105X  declare  racks  and  quandles  as  right
  quasigroups  or,  in  the  latin  case, as quasigroups. If a rack/quandle is
  declared   as   a   right  quasigroup,  it  is  displayed  as  [10X<rack...>[110X  or
  [10X<quandle...>[110X,  while  if  it is declared as a quasigroup, it is displayed as
  [10X<latin rack...>[110X or [10X<latin quandle...>[110X.[133X
  
  
  [1X11.1 [33X[0;0YTesting properties of racks and quandles[133X[101X
  
  
  [1X11.1-1 [33X[0;0YIsRack and IsQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  right  quasigroup [3XQ[103X is a rack/quandle, else returns
            [10Xfalse[110X.[133X
  
  
  [1X11.1-2 [33X[0;0YIsHomogeneousRack and IsHomogeneousQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsHomogeneousRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsHomogeneousQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X if the right quasigroup [3XQ[103X is a homogeneous rack/quandle, that
            is,   a   rack/quandle   on  which  the  automorphism  group  acts
            transitively.[133X
  
  
  [1X11.1-3 [33X[0;0YIsConnectedRack and IsConnectedQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsConnectedRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsConnectedQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the right quasigroup [3XQ[103X is a connected rack/quandle, that
            is,  a  rack/quandle  on which the right multiplication group acts
            transitively.[133X
  
  
  [1X11.1-4 [33X[0;0YIsLatinRack and IsLatinQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsLatinRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsLatinQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  right  quasigroup  [3XQ[103X  is a latin rack/quandle, else
            returns [10Xfalse[110X.[133X
  
  
  [1X11.1-5 [33X[0;0YIsProjectionRack and IsProjectionQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsProjectionRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsProjectionQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if the right quasigroup [3XQ[103X is a projection rack/quandle, that
            is, a rack/quandle satisfying [23Xx*y=x[123X.[133X
  
  
  [1X11.1-6 [33X[0;0YIsPermutationalRack and IsPermutationalQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsPermutationalRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsPermutationalQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  right quasigroup [3XQ[103X is a permutational rack/quandle,
            that is, a rack/quandle satisfying [23Xx*y=f(x)[123X for some permutation [23Xf[123X
            of [3XQ[103X.[133X
  
  
  [1X11.1-7 [33X[0;0YIsFaithfulRack and IsFaithfulQuandle[133X[101X
  
  [33X[1;0Y[29X[2XIsFaithfulRack[102X( [3XQ[103X ) [32X property[133X
  [33X[1;0Y[29X[2XIsFaithfulQuandle[102X( [3XQ[103X ) [32X property[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  right quasigroup [3XQ[103X is a faithful rack/quandle, that
            is, a rack/quandle with [23Xx\mapsto R_x[123X injective on [3XQ[103X.[133X
  
  
  [1X11.2 [33X[0;0YConstructors for racks[133X[101X
  
  [33X[0;0YThe  projection  right  quasigroup  is  automatically  a quandle. We support
  [10XProjectionRack[110X     and     [10XProjectionQuandle[110X     as     a     synonym     of
  [10XProjectionRightQuasigroup[110X.[133X
  
  [1X11.2-1 PermutationalRack[101X
  
  [33X[1;0Y[29X[2XPermutationalRack[102X( [3Xn[103X, [3Xf[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  permutational  rack on [10X[1..[110X[3Xn[103X[10X][110X via the permutation [3Xf[103X, that is,
            the  rack on [10X[1..[110X[3Xn[103X[10X][110X with multiplication [10Xx*y = x^f[110X. The permutation
            [3Xf[103X must restrict to [10X[1..[110X[3Xn[103X[10X][110X.[133X
  
  [33X[0;0YNote  that  for  index  based right quasigroups it is possible to change the
  underlying set via [10XChangeUnderlyingSet[110X, cf. Section [14X1.4[114X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XPermutationalRack( 10, (3,4,5) );[127X[104X
    [4X[28X<rack of size 10>[128X[104X
    [4X[25Xgap>[125X [27XQ := PermutationalRack( 100000, (1,100000), ConstructorStyle( false, true ) );[127X[104X
    [4X[28X<rack of size 100000>[128X[104X
    [4X[25Xgap>[125X [27XQ[1]*Q[2];[127X[104X
    [4X[28Xr100000[128X[104X
  [4X[32X[104X
  
  [1X11.2-2 CyclicRack[101X
  
  [33X[1;0Y[29X[2XCyclicRack[102X( [3Xn[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  cyclic  rack  on  [10X[1..[110X[3Xn[103X[10X][110X,  that  is,  the rack on [10X[1..[110X[3Xn[103X[10X][110X with
            multiplication  [10Xx*y  = x+1[110X, where the addition is with wraparound.
            This   is   the   same  as  permutational  rack  via  the  [3Xn[103X-cycle
            [10X(1,2,...,[110X[3Xn[103X[10X)[110X.[133X
  
  [33X[0;0YA  rack  is [13Xaffine[113X if it is an affine right quasigroup over an abelian group
  (that  happens  to  be a rack). See Section [14X9.4[114X for affine right quasigroups
  and their arithmetic forms. For affine racks, we allow only arithmetic forms
  [10X(n,f,g,c)[110X, [10X(F,f,g,c)[110X and [10X(G,f,g,c)[110X.[133X
  
  [33X[0;0YIf  [23XG[123X  is  an  (additive)  abelian  group,  [23Xf[123X  an  automorphism  of  [23XG[123X, [23Xg[123X an
  endomorphism  of  [23XG[123X  and  [23Xc\in G[123X, then the affine right quasigroup on [23XG[123X with
  arithmetic form [23X(G,f,g,c)[123X and multiplication [23Xx*y = f(x)+g(y)+c[123X is a rack iff
  [23Xg(c)=0[123X,  [23Xfg  =  gf[123X and [23Xg(f+g-I)[123X is the zero mapping, where [23XI[123X is the identity
  mapping on [23XG[123X.[133X
  
  [33X[0;0YIn  particular, if [23Xn[123X is a positive integer, [23Xf[123X is an integer relatively prime
  to  [23Xn[123X,  and  [23Xg[123X, [23Xc[123X are integers, then the affine right quasigroup on [23X[0..n-1][123X
  with  arithmetic  form  [23X(n,f,g,c)[123X  and  multiplication  [23Xx*y  =  (f*x+g*y+c)\
  \mathrm{mod}\ n[123X is a rack iff [23Xgc\equiv 0\pmod n[123X and [23Xg(f+g-1)\equiv 0\pmod n[123X.[133X
  
  [1X11.2-3 IsAffineRackArithmeticForm[101X
  
  [33X[1;0Y[29X[2XIsAffineRackArithmeticForm[102X( [3Xarg[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X if [3Xarg[103X is an arithmetic form of an affine rack. See above for
            allowed arithmetic forms.[133X
  
  [1X11.2-4 AffineRack[101X
  
  [33X[1;0Y[29X[2XAffineRack[102X( [3Xarg[103X[, [3XconstructorStyle[103X] ) [32X function[133X
  [6XReturns:[106X  [33X[0;10Ythe  affine  rack  with arithmetic form [3Xarg[103X. See above for allowed
            arithmetic forms.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27X# affine rack on [0..11][127X[104X
    [4X[25Xgap>[125X [27X[ IsAffineRackArithmeticForm( 12, 5, 2, 6 ), AffineRack( 12, 5, 2, 6 ) ];[127X[104X
    [4X[28X[ true, <rack of size 12> ][128X[104X
    [4X[25Xgap>[125X [27X# affine rack on GF(9)[127X[104X
    [4X[25Xgap>[125X [27XF := GF(9);; f := 2*Z(9);; g := Z(9)+One(F);; c := Zero(F);;[127X[104X
    [4X[25Xgap>[125X [27X[ IsAffineRackArithmeticForm( F, f, g, c ), AffineRack( F, f, g, c ) ]; # latin racks are quandles[127X[104X
    [4X[28X[ true, <latin quandle of size 9> ][128X[104X
    [4X[25Xgap>[125X [27X# affine rack on cyclic group of order 4[127X[104X
    [4X[25Xgap>[125X [27Xx := (1,2,3,4);; G := Group( x );;[127X[104X
    [4X[25Xgap>[125X [27Xf := GroupHomomorphismByImages( G, G, [x], [x^-1] );;[127X[104X
    [4X[25Xgap>[125X [27Xg := GroupHomomorphismByImages( G, G, [x], [x^2] );;[127X[104X
    [4X[25Xgap>[125X [27Xc := x^2;;[127X[104X
    [4X[25Xgap>[125X [27X[ IsAffineRackArithmeticForm( G, f, g, c ), AffineRack( G, f, g, c ) ];[127X[104X
    [4X[28X[ true, <rack of size 4> ][128X[104X
  [4X[32X[104X
  
  
  [1X11.3 [33X[0;0YConstructors for quandles[133X[101X
  
  [33X[0;0YA  quandle  is  [13Xaffine[113X  if  it is an affine right quasigroup over an abelian
  group  (that  happens  to  be  a  quandle). See Section [14X9.4[114X for affine right
  quasigroups and their arithmetic forms.[133X
  
  [33X[0;0YIf  [23XG[123X  is  an  (additive)  abelian  group,  [23Xf[123X  an  automorphism  of  [23XG[123X, [23Xg[123X an
  endomorphism  of  [23XG[123X  and  [23Xc\in G[123X, then the affine right quasigroup on [23XG[123X with
  arithmetic  form [23X(G,f,g,c)[123X and multiplication [23Xx*y = f(x)+g(y)+c[123X is a quandle
  iff  [23Xc=0[123X  and  [23Xg=I-f[123X,  where  [23XI[123X is the identity mapping on [23XG[123X. Therefore, for
  affine quandles, we allow only "shortened" arithmetic forms [10X(n,f)[110X, [10X(F,f)[110X and
  [10X(G,f)[110X.[133X
  
  [1X11.3-1 IsAffineQuandleArithmeticForm[101X
  
  [33X[1;0Y[29X[2XIsAffineQuandleArithmeticForm[102X( [3Xarg[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if [3Xarg[103X is an arithmetic form of an affine quandle. See above
            for allowed arithmetic forms.[133X
  
  [1X11.3-2 AffineQuandle[101X
  
  [33X[1;0Y[29X[2XAffineQuandle[102X( [3Xarg[103X[, [3XconstructorStyle[103X] ) [32X function[133X
  [6XReturns:[106X  [33X[0;10Ythe  affine quande with arithmetic form [3Xarg[103X. See above for allowed
            arithmetic forms. The synonym [10XAlexanderQuandle[110X is also supported.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27X# affine quandle on [0..9][127X[104X
    [4X[25Xgap>[125X [27X[ IsAffineQuandleArithmeticForm( 10, 3 ), AffineQuandle( 10, 3 ) ];[127X[104X
    [4X[28X[ true, <quandle of size 10> ][128X[104X
    [4X[25Xgap>[125X [27X# affine quandle on GF(9)[127X[104X
    [4X[25Xgap>[125X [27X[ IsAffineQuandleArithmeticForm( GF(9), 2*Z(9) ), AffineQuandle( GF(9), 2*Z(9) ) ];[127X[104X
    [4X[28X[ true, <latin quandle of size 9> ][128X[104X
    [4X[25Xgap>[125X [27X# affine quandle on cyclic group of order 5[127X[104X
    [4X[25Xgap>[125X [27XG := CyclicGroup(5);; f := Elements( AutomorphismGroup( G ) )[2];[127X[104X
    [4X[28X[ f1 ] -> [ f1^2 ][128X[104X
    [4X[25Xgap>[125X [27X[ IsAffineQuandleArithmeticForm( G, f ), AffineQuandle( G, f ) ];[127X[104X
    [4X[28X[ true, <latin quandle of size 5> ][128X[104X
  [4X[32X[104X
  
  [1X11.3-3 DihedralQuandle[101X
  
  [33X[1;0Y[29X[2XDihedralQuandle[102X( [3Xn[103X[, [3Xconstructorstyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  dihedral  quandle of size [3Xn[103X, that is, the quandle on [10X[0..[110X[3Xn[103X[10X-1][110X
            with multiplication [10Xx*y = (-x+2y) mod [110X[3Xn[103X.[133X
  
  [1X11.3-4 CoreOfGroup[101X
  
  [33X[1;0Y[29X[2XCoreOfGroup[102X( [3XG[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  core  of  the group (resp. additive group) [3XG[103X defined by [23Xx*y =
            (yx^{-1})y[123X (resp. [23Xx*y=y-x+y[123X). The core is always a quandle.[133X
  
  [33X[0;0YNote:  The value of [10XconstructorStyle.checkArguments[110X of the optional argument
  [10XconstructorStyle[110X does not come into play and need not be specified.[133X
  
  [1X11.3-5 CoreOfRightBolLoop[101X
  
  [33X[1;0Y[29X[2XCoreOfRightBolLoop[102X( [3XQ[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  core of the right Bol loop [3XQ[103X defined by [23Xx*y = (yx^{-1})y[123X. The
            core is always a quandle.[133X
  
  [33X[0;0YNote:  The value of [10XconstructorStyle.checkArguments[110X of the optional argument
  [10XconstructorStyle[110X does not come into play and need not be specified.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XG := AlternatingGroup( 5 );;[127X[104X
    [4X[25Xgap>[125X [27XQ := CoreOfGroup( G );[127X[104X
    [4X[28X<quandle of size 60>[128X[104X
    [4X[25Xgap>[125X [27XQ[(1,2,3)]*Q[(1,2,3,4,5)] = Q[(1,2,3)*(1,2,3,4,5)^(-1)*(1,2,3)];[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XCoreOfRightBolLoop( RightBolLoop(8,1) );[127X[104X
    [4X[28X<quandle of size 8>[128X[104X
  [4X[32X[104X
  
  [33X[0;0YGiven  a  group [23XG[123X, subgroup [23XH[123X and an automorphism [23Xf[123X of [23XG[123X that centralizes [23XH[123X,
  the  [13XGalkin quandle[113X (aka [13Xcoset quandle[113X or [13Xhomogeneous quandle[113X) is defined on
  the right cosets [23X\{Hx:x\in G\}[123X by [23XHx*Hy = H f(xy^{-1})y[123X.[133X
  
  
  [1X11.3-6 [33X[0;0YGalkinQuandle and HomogeneousQuandle[133X[101X
  
  [33X[1;0Y[29X[2XGalkinQuandle[102X( [3XG[103X, [3XH[103X, [3Xf[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  Galkin  quandle  constructed from the group [3XG[103X, subgroup [3XH[103X and
            automorphism   [3Xf[103X   of   [3XG[103X   that   centralizes   [3XH[103X.   The  synonym
            [10XHomogeneousQuandle[110X is also supported.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XG := SymmetricGroup( 4 );; H := Subgroup( G, [(1,2)] );;[127X[104X
    [4X[25Xgap>[125X [27Xf := Filtered( AutomorphismGroup( G ), g -> (1,2)^g = (1,2) )[3];[127X[104X
    [4X[28X^(3,4)[128X[104X
    [4X[25Xgap>[125X [27XQ := GalkinQuandle( G, H, f );[127X[104X
    [4X[28X<quandle of size 12>[128X[104X
  [4X[32X[104X
  
  [1X11.3-7 ConjugationQuandle[101X
  
  [33X[1;0Y[29X[2XConjugationQuandle[102X( [3XG[103X[, [3Xm[103X[, [3XconstructorStyle[103X]] ) [32X function[133X
  [6XReturns:[106X  [33X[0;10Ythe  conjugation  quandle  on [3XG[103X defined by [23Xx*y = y^{-m}*x*y^m[123X. The
            argument [3XG[103X can either be a group or a collection of group elements
            closed  under  the  above operation. If the optional argument [3Xm[103X is
            omitted, the multiplication is given by [23Xx*y=y^{-1}*x*y[123X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XG := SymmetricGroup( 3 );; [127X[104X
    [4X[25Xgap>[125X [27XConjugationQuandle( G ); # y^-1*x*y on G[127X[104X
    [4X[28X<quandle of size 6>[128X[104X
    [4X[25Xgap>[125X [27XConjugationQuandle( ConjugacyClass( G, (1,2,3) ) ); # y^-1*x*y on [ (1,2,3), (1,3,2) ][127X[104X
    [4X[28X<quandle of size 2>[128X[104X
    [4X[25Xgap>[125X [27XConjugationQuandle( G, 2 ); # y^-2*x*y^2 on G[127X[104X
    [4X[28X<quandle of size 6>[128X[104X
  [4X[32X[104X
  
  
  [1X11.4   [33X[0;0YRack   envelopes   and   quandle   envelopes:   The   Joyce-Blackburn[101X
  [1Xrepresentation[133X[101X
  
  [33X[0;0YThe  triple [23X(G,S,R)[123X is a [13Xrack envelope[113X if [23XG[123X is a (permutation) group, [23XS[123X is a
  set  of  orbit  representatives  of [23XG[123X, and [23XR=(r_x:x\in S)[123X is a collection of
  elements  of  [23XG[123X  such  that  [23Xr_x\in  C_G(G_x)[123X  for every [23Xx\in S[123X, and [23X\langle
  \bigcup_{x\in  S}r_x^G\rangle  = G[123X. Here [23Xr_x^G[123X is the conjugacy class of [23Xr_x[123X
  in [23XG[123X.[133X
  
  [33X[0;0YThe  triple  [23X(G,S,R)[123X  is  a  [13Xquandle  envelope[113X  if it is a rack envelope and
  [23Xr_x(x)=x[123X (that is, [23Xr_x\in Z(G_x)[123X) for every [23Xx\in S[123X.[133X
  
  [33X[0;0YThere  is  a  one-to-one  correspondence  between  racks (quandles) and rack
  envelopes  (quandle  envelopes) on a given set. This is sometimes called the
  [13XJoyce-Blackburn  representation[113X  of  racks  (quandles). Given a rack/quandle
  [23X(Q,\cdot)[123X, let [23XG=\mathrm{Mlt}_r(Q)[123X be the right multiplication group of [23XQ[123X, [23XS[123X
  a  set  of orbit representatives of [23XG[123X on [23XQ[123X, and [23XR=(R_x:x\in S)[123X (a collection
  of right transversals). Then [23X(G,S,R)[123X is a rack/quandle envelope. Conversely,
  given a rack/quandle envelope [23X(G,S,R)[123X on a set [23XQ[123X with [23XR=(r_x:x\in S)[123X, we can
  define right translations [23XR_y = r_x^{g_y} = g_y^{-1}r_xg_y[123X, where [23Xg_y[123X is any
  element of [23XG[123X such that [23Xg_y(x)=y[123X. Then [23X(Q,\cdot)[123X with multiplication [23Xx\cdot y
  = R_y(x)[123X is a rack/quandle.[133X
  
  [33X[0;0YIn  [5XRightQuasigroups[105X,  a  rack/quandle  envelope  is  represented  as a list
  [10X[G,S,R][110X,  where  [10XG[110X  is  a  permutation  group,  [10XS[110X is a list of points (orbit
  representatives)  and  [10XR[110X  is  a  list of elements of [10XG[110X, one for each [10Xx[110X in [10XS[110X.
  Functions  that  use  rack/quandle envelopes accept either a single argument
  [10X[G,S,R][110X or three arguments [10XG[110X, [10XS[110X, [10XR[110X.[133X
  
  
  [1X11.4-1 [33X[0;0YIsRackEnvelope and IsQuandleEnvelope[133X[101X
  
  [33X[1;0Y[29X[2XIsRackEnvelope[102X( [3XG[103X, [3Xreps[103X, [3Xperms[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsQuandleEnvelope[102X( [3XG[103X, [3Xreps[103X, [3Xperms[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  [3XG[103X,  [3Xreps[103X,  [3Xperms[103X  is  a  rack  envelope  (resp.  quandle
            envelope).  For  the  method to apply, [3XG[103X must be a group and [3Xreps[103X,
            [3Xperms[103X must be lists. To return [10Xtrue[110X, [3XG[103X must be a permutation group
            with orbit representatives [3Xreps[103X and [3Xperms[103X[10X[i][110X must be an element of
            [23XC_G(G_x)[123X  (resp.  [23XZ(G_x)[123X),  where  [10Xx=reps[i][110X, and the union of the
            conjugacy  classes of the permutations in [3Xperms[103X must generate [3XG[103X. A
            version with a single argument [10X[[110X[3XG[103X[10X,[110X[3Xreps[103X[10X,[110X[3Xperms[103X[10X][110X is also supported.[133X
  
  
  [1X11.4-2 [33X[0;0YRackEnvelope and QuandleEnvelope[133X[101X
  
  [33X[1;0Y[29X[2XRackEnvelope[102X( [3XQ[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XQuandleEnvelope[102X( [3XQ[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  rack  envelope  (quandle envelope) of the rack (quandle) as a
            list [10X[G,reps,perms][110X.[133X
  
  [1X11.4-3 RackByRackEnvelope[101X
  
  [33X[1;0Y[29X[2XRackByRackEnvelope[102X( [3XG[103X, [3Xreps[103X, [3Xperms[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [33X[1;0Y[29X[2XQuandleByQuandleEnvelope[102X( [3XG[103X, [3Xreps[103X, [3Xperms[103X[, [3XconstructorStyle[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  rack  (quandle)  corresponding  to the rack envelope (quandle
            envelope)  [10X[[110X[3XG[103X[10X,[110X[3Xreps[103X[10X,[110X[3Xperms[103X[10X][110X. The underlying set will be the union of
            the  orbits  of  [3XG[103X on the representatives [3Xreps[103X. The resulting rack
            (quandle)  is  connected if [3XG[103X has a single orbit. A version with a
            single non-optional argument [10X[[110X[3XG[103X[10X,[110X[3Xreps[103X[10X,[110X[3Xperms[103X[10X][110X is also supported.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := SmallQuandle( 10, 1000 );[127X[104X
    [4X[28XSmallQuandle( 10, 1000 )[128X[104X
    [4X[25Xgap>[125X [27Xenv := QuandleEnvelope( Q );[127X[104X
    [4X[28X[ Group([ (1,3,2)(7,8) ]), [ 1, 4, 5, 6, 7, 9, 10 ], [128X[104X
    [4X[28X  [ (), (), (1,2,3), (1,3,2)(7,8), (1,2,3), (1,3,2)(7,8), [128X[104X
    [4X[28X      (1,3,2)(7,8) ] ][128X[104X
    [4X[25Xgap>[125X [27XQ2 := QuandleByQuandleEnvelope( env );[127X[104X
    [4X[28X<quandle of size 10>[128X[104X
    [4X[25Xgap>[125X [27XIsomorphismQuandles( Q, Q2 );[127X[104X
    [4X[28XMappingByFunction( SmallQuandle( 10, 1000 ), <quandle of size 10>, fun\[128X[104X
    [4X[28Xction( x ) ... end )[128X[104X
    [4X[25Xgap>[125X [27XAsParentTransformation( last );[127X[104X
    [4X[28XIdentityTransformation[128X[104X
    [4X[25Xgap>[125X [27XQuandleByQuandleEnvelope( env[1], env[2], env[3] ); # separate arguments also supported for envelopes[127X[104X
    [4X[28X<quandle of size 10>[128X[104X
  [4X[32X[104X
  
  
  [1X11.5 [33X[0;0YSubracks and subquandles[133X[101X
  
  
  [1X11.5-1 [33X[0;0YTesting subracks and subquandles[133X[101X
  
  [33X[1;0Y[29X[2XIsSubrack[102X( [3XQ[103X, [3XS[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsSubquandle[102X( [3XQ[103X, [3XS[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if [3XS[103X is a subrack (subquandle) of the rack (quandle) [3XQ[103X, else
            returns [10Xfalse[110X.[133X
  
  
  [1X11.5-2 [33X[0;0YCreating subracks and subquandles[133X[101X
  
  [33X[1;0Y[29X[2XSubrack[102X( [3XQ[103X, [3Xgens[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XSubquandle[102X( [3XQ[103X, [3Xgens[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  subrack  (subquandle)  of a rack (quandle) [3XQ[103X generated by the
            list  of  elements [3Xgens[103X. We allow [3Xgens[103X to consist of elements of [3XQ[103X
            or  of  elements  of  the  underlying  set  of  [3XQ[103X.  The  resulting
            subalgebra  will  be  index based (cf. Section [14X1.8[114X) iff [3XQ[103X is index
            based.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := AffineRack( 12, 5, 2, 6 );;[127X[104X
    [4X[25Xgap>[125X [27XS := Subrack( Q, [ Q[2] ] );[127X[104X
    [4X[28X<rack of size 2>[128X[104X
    [4X[25Xgap>[125X [27XIsSubrack( Q, S );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X11.5-3 [33X[0;0YAll subracks and subquandles[133X[101X
  
  [33X[1;0Y[29X[2XAllSubracks[102X( [3XQ[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XAllSubquandles[102X( [3XQ[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ya list of all subracks (subquandles) of a rack (quandle) [3XQ[103X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := ConjugationQuandle( SymmetricGroup( 3 ) );;[127X[104X
    [4X[25Xgap>[125X [27XList( AllSubquandles( Q ), Size );[127X[104X
    [4X[28X[ 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 5, 2, 4, 6, 3 ][128X[104X
  [4X[32X[104X
  
  
  [1X11.5-4 [33X[0;0YRacks and quandles by generators[133X[101X
  
  [33X[1;0Y[29X[2XRack[102X( [3Xgens...[103X ) [32X function[133X
  [33X[1;0Y[29X[2XQuandle[102X( [3Xgens...[103X ) [32X function[133X
  [33X[1;0Y[29X[2XRackByGenerators[102X( [3Xgens...[103X ) [32X function[133X
  [33X[1;0Y[29X[2XQuandleByGenerators[102X( [3Xgens...[103X ) [32X function[133X
  [33X[1;0Y[29X[2XRackWithGenerators[102X( [3Xgens...[103X ) [32X function[133X
  [33X[1;0Y[29X[2XQuandleWithGenerators[102X( [3Xgens...[103X ) [32X function[133X
  
  [33X[0;0YThese functions are analogous to those described in Section [14X3.5[114X[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := ConjugationQuandle( SymmetricGroup( 3 ) );;[127X[104X
    [4X[25Xgap>[125X [27XS := QuandleWithGenerators( [ Q[(1,2)], Q[(1,2,3)] ] );[127X[104X
    [4X[28X<quandle of size 5>[128X[104X
    [4X[25Xgap>[125X [27XGeneratorsOfMagma( S );[127X[104X
    [4X[28X[ r(1,2), r(1,2,3) ][128X[104X
  [4X[32X[104X
  
  
  [1X11.6 [33X[0;0YIsomorphisms and isotopisms of racks and quandles[133X[101X
  
  
  [1X11.6-1 [33X[0;0YIsomorphismRacks, IsomorphismQuandles[133X[101X
  
  [33X[1;0Y[29X[2XIsomorphismRacks[102X( [3XQ1[103X, [3XQ2[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsomorphismQuandles[102X( [3XQ1[103X, [3XQ2[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Yan  isomorphism  between  the  racks  (quandles) [3XQ1[103X and [3XQ2[103X, if one
            exists, else returns [10Xfail[110X. If an isomorphism from [3XQ1[103X to [3XQ2[103X exists,
            it  is returned as a permutation of [23X[1..n][123X, where [23Xn[123X is the size of
            [3XQ1[103X (and hence also the size of [3XQ2[103X).[133X
  
  
  [1X11.6-2 [33X[0;0YRacks and quandles up to isomorphism[133X[101X
  
  [33X[1;0Y[29X[2XRacksUpToIsomorphism[102X( [3Xls[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XQuandlesUpToIsomorphism[102X( [3Xls[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ya  sublist  of  [10Xls[110X  consisting of all racks (quandles) in [10Xls[110X up to
            isomorphism.[133X
  
  
  [1X11.7 [33X[0;0YGroups associated with racks and quandles[133X[101X
  
  [1X11.7-1 AdjointGroup[101X
  
  [33X[1;0Y[29X[2XAdjointGroup[102X( [3XQ[103X ) [32X attribute[133X
  [6XReturns:[106X  [33X[0;10Ythe  adjoint  group  associated with the rack [3XQ[103X, that is, the free
            group on [3XQ[103X with relations [23Xb^{-1}ab = a*b[123X, where [23Xa*b[123X is the product
            in  the  rack [3XQ[103X. The generators inherit names from the elements of
            [3XQ[103X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27Xg := AdjointGroup( DihedralQuandle( 3 ) );[127X[104X
    [4X[28X<fp group on the generators [ q0, q1 ]>[128X[104X
    [4X[25Xgap>[125X [27XGeneratorsOfGroup( g );[127X[104X
    [4X[28X[ q0, q1 ][128X[104X
    [4X[25Xgap>[125X [27XRelatorsOfFpGroup( g );[127X[104X
    [4X[28X[ q0^-1*q1^2*q0^-1, (q1^-1*q0)^3 ][128X[104X
    [4X[25Xgap>[125X [27XSize( g );[127X[104X
    [4X[28Xinfinity[128X[104X
  [4X[32X[104X
  
