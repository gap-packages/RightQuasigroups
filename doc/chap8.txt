  
  [1X8 [33X[0;0YHomomorphisms, isomorphisms and automorphisms[133X[101X
  
  
  [1X8.1 [33X[0;0YHomomorphisms, isomorphisms and automorphisms of right quasigroups[133X[101X
  
  [33X[0;0YA   mapping  [23Xf:(Q_1,\cdot)\to  (Q_2,*)[123X  between  (right)  quasigroups  is  a
  [13Xhomomorphism[113X   if  [23Xf(x)*f(y)  =  f(x\cdot  y)[123X  for  every  [23Xx,y\in  Q_1[123X.  The
  homomorphism  [23Xf[123X  then  automatically  preserves  divisons.  If  [23Xf[123X  is also a
  bijection,  it  is  an  [13Xisomorphism[113X.  If  [23X(Q_1,\cdot)=(Q_2,*)[123X  then  [23Xf[123X is an
  [13Xendomorphism[113X. A bijective endomorphism is an [13Xautomorphism[113X.[133X
  
  [33X[0;0YIn [5XRightQuasigroups[105X, homomorphisms and isomorphisms are represented as right
  quasigroup   mappings,   while   automorphisms  are  represented  as  parent
  permutations.  See  Chapter  [14X4[114X  for  conversions  between  right  quasigroup
  mappings, permutations and transformations.[133X
  
  
  [1X8.1-1 [33X[0;0YTesting homomorphisms[133X[101X
  
  [33X[1;0Y[29X[2XIsRightQuasigroupHomomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsQuasigroupHomomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsLoopHomomorphism[102X( [3Xf[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  mapping  [3Xf[103X  is  a homomorphism of right quasigroups
            (quasigroups, loops), else returns [10Xfalse[110X. The function checks that
            the  source  and  range  of  [3Xf[103X are right quasigroups (quasigroups,
            loops) and that [3Xf[103X respects multiplication.[133X
  
  
  [1X8.1-2 [33X[0;0YTesting isomorphisms[133X[101X
  
  [33X[1;0Y[29X[2XIsRightQuasigroupIsomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsQuasigroupIsomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsLoopIsomorphism[102X( [3Xf[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  mapping  [3Xf[103X  is  an isomorphism of right quasigroups
            (quasigroups, loops), else returns [10Xfalse[110X. The function checks [3Xf[103X is
            a bijective right quasigroup (quasigroup, loop) homomorphism.[133X
  
  [33X[0;0YMappings   returned  by  [10XIsomorphismRightQuasigroups[110X  are  right  quasigroup
  isomorphisms.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XA := QuasigroupByFunction( [0..7], function(x,y) return (x-y) mod 8; end );;[127X[104X
    [4X[25Xgap>[125X [27XB := QuasigroupByFunction( [0..3], function(x,y) return (x-y) mod 4; end );;[127X[104X
    [4X[25Xgap>[125X [27XSetQuasigroupElementsName(B, "b" );;[127X[104X
    [4X[25Xgap>[125X [27Xf := function( x ) return B[ UnderlyingSetElm( x ) mod 4 ]; end;; [127X[104X
    [4X[25Xgap>[125X [27XList( A, f );[127X[104X
    [4X[28X[ b0, b1, b2, b3, b0, b1, b2, b3 ][128X[104X
    [4X[25Xgap>[125X [27Xm := MappingByFunction( A, B, f );;[127X[104X
    [4X[25Xgap>[125X [27XIsRightQuasigroupHomomorphism( m );[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[25Xgap>[125X [27XIsRightQuasigroupIsomorphism( m );[127X[104X
    [4X[28Xfalse[128X[104X
    [4X[25Xgap>[125X [27XIsSurjective( m );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X8.1-3 [33X[0;0YTesting endomorphisms[133X[101X
  
  [33X[1;0Y[29X[2XIsRightQuasigroupEndomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsQuasigroupEndomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsLoopEndomorphism[102X( [3Xf[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  mapping  [3Xf[103X is an endomorphism of a right quasigroup
            (quasigroup, loop), else returns [10Xfalse[110X. The function checks that [3Xf[103X
            is   a  right  quasigroup  (quasigroup,  loop)  homomorphism  with
            identical source and range.[133X
  
  
  [1X8.1-4 [33X[0;0YTesting automorphisms[133X[101X
  
  [33X[1;0Y[29X[2XIsRightQuasigroupAutomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsQuasigroupAutomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsLoopAutomorphism[102X( [3Xf[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  mapping  [3Xf[103X is an automorphism of a right quasigroup
            (quasigroup, loop), else returns [10Xfalse[110X. The function checks that [3Xf[103X
            is a bijective right quasigroup (quasigroup, loop) endomorphism.[133X
  
  [33X[0;0YNote that elements of automorphism groups of right quasigroups are not right
  quasigroup   automorphisms   in   this  sense  and  must  be  converted  via
  [10XAsRightQuasigroupMapping[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := AutomorphicLoop( 15, 1 );;[127X[104X
    [4X[25Xgap>[125X [27Xf := LeftInnerMapping( Q, Q.6, Q.2 );[127X[104X
    [4X[28X(6,9,8,7,10)(11,15,12,13,14)[128X[104X
    [4X[25Xgap>[125X [27Xm := AsRightQuasigroupMapping( Q, f );;[127X[104X
    [4X[25Xgap>[125X [27XIsRightQuasigroupAutomorphism( m );[127X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X8.1-5 [33X[0;0YHomomorphisms by images[133X[101X
  
  [33X[1;0Y[29X[2XRightQuasigroupHomomorphismByImages[102X( [3XQ1[103X, [3XQ2[103X[[, [3Xgens[103X], [3Ximgs[103X] ) [32X operation[133X
  [33X[1;0Y[29X[2XQuasigroupHomomorphismByImages[102X( [3XQ1[103X, [3XQ2[103X[[, [3Xgens[103X], [3Ximgs[103X] ) [32X operation[133X
  [33X[1;0Y[29X[2XLoopHomomorphismByImages[102X( [3XQ1[103X, [3XQ2[103X[[, [3Xgens[103X], [3Ximgs[103X] ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  homomorphism  from  right quasigroup (quasigroup, loop) [3XQ1[103X to
            right  quasigroup  (quasigroup,  loop) [3XQ2[103X determined by the images
            [3Ximgs[103X  on  the  generators [3Xgens[103X of [3XQ1[103X. If the list [3Xgens[103X is omitted,
            [10XGeneratorsOfRightQuasigroup([110X[3XQ1[103X[10X)[110X  is used instead. If the list [3Ximgs[103X
            is  omitted,  [10XGeneratorsOfRightQuasigroup([110X[3XQ2[103X[10X)[110X  is used instead. If
            [3Xgens[103X,  [3Ximgs[103X are not of the same length, error is returned. If [3Xgens[103X
            does  not  generate  [3XQ1[103X, [10Xfail[110X is returned. If the arguments do not
            define a homomorphism, [10Xfail[110X is returned.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := CheinLoop( SymmetricGroup( 3 ) );;[127X[104X
    [4X[25Xgap>[125X [27Xgens := SmallGeneratingSet( Q ); # also sets GeneratorsOfMagma in this case[127X[104X
    [4X[28X[ l[ 0, (2,3) ], l[ 0, (1,2,3) ], l[ 1, () ] ][128X[104X
    [4X[25Xgap>[125X [27XS := AsLoop( Group((1,2)) );;[127X[104X
    [4X[25Xgap>[125X [27Xf := LoopHomomorphismByImages( Q, S, gens, [ S[()],S[()],S[(1,2)] ] );[127X[104X
    [4X[28XMappingByFunction( <Moufang loop of size 12>, <associative loop of siz\[128X[104X
    [4X[28Xe 2>, function( x ) ... end )[128X[104X
    [4X[25Xgap>[125X [27XQ[ [1,(1,2,3)] ]^f;[127X[104X
    [4X[28Xl(1,2)[128X[104X
  [4X[32X[104X
  
  [1X8.1-6 KernelRelationOfMapping[101X
  
  [33X[1;0Y[29X[2XKernelRelationOfMapping[102X( [3Xf[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  kernel  relation  of  the mapping [3Xf[103X, that is, the equivalence
            relation [10XE[110X on [10XSource( [110X[3Xf[103X[10X )[110X such that [10XxEy[110X iff [10Xx^f = y^f[110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XG := SymmetricGroup( 3 );;[127X[104X
    [4X[25Xgap>[125X [27Xf := MappingByFunction( G, Domain([1,-1]), SignPerm );;[127X[104X
    [4X[25Xgap>[125X [27Xker := KernelRelationOfMapping( f );[127X[104X
    [4X[28X<equivalence relation on SymmetricGroup( [ 1 .. 3 ] ) >[128X[104X
    [4X[25Xgap>[125X [27XEquivalenceClasses( ker );[127X[104X
    [4X[28X[ {(2,3)}, {()} ][128X[104X
  [4X[32X[104X
  
  
  [1X8.1-7 [33X[0;0YKernel of loop homomorphisms[133X[101X
  
  [33X[1;0Y[29X[2XKernelOfLoopHomomorphism[102X( [3Xf[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XKernelOfLoopHomomorphismNC[102X( [3Xf[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe kernel of the loop homomorphism [3Xf[103X, that is, the subloop of the
            loop [10XSource( [110X[3Xf[103X[10X )[110X consisting of all elements [10Xx[110X such that [10Xx^f[110X is the
            identity  element  of the loop [10XRange( [110X[3Xf[103X[10X )[110X. The [10XNC[110X version does not
            check whether [3Xf[103X is a loop homomorphism.[133X
  
  
  [1X8.1-8 [33X[0;0YNatural homomorphism by congruence[133X[101X
  
  [33X[1;0Y[29X[2XNaturalHomomorphismByCongruence[102X( [3XC[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XNaturalHomomorphismByCongruenceNC[102X( [3XC[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe  natural  projection  corresponding  to  the  right quasigroup
            congruence  [3XC[103X. With [10XQ = Source( [110X[3XC[103X[10X )[110X, it returns the endomorphism [10Xf[110X
            from [10XQ[110X to [10XQ/[110X[3XC[103X such that [10Xx^f[110X is the element of [10XQ/[110X[3XC[103X containing [10Xx[110X (as
            a  congruence class). The [10XNC[110X version does not check whether [3XC[103X is a
            congruence.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := QuasigroupByFunction( [0..3], function(x,y) return (x-y) mod 4; end );;[127X[104X
    [4X[25Xgap>[125X [27XC := EquivalenceRelationByPartition( Q, [ [Q[0],Q[2]], [Q[1],Q[3]] ] );;[127X[104X
    [4X[25Xgap>[125X [27Xf := NaturalHomomorphismByCongruence( C );[127X[104X
    [4X[28XMappingByFunction( <quasigroup of size 4>, <quasigroup of size 2>, fun\[128X[104X
    [4X[28Xction( x ) ... end )[128X[104X
    [4X[25Xgap>[125X [27XUnderlyingSet( Range( f ) );[127X[104X
    [4X[28X[ {q0}, {q1} ][128X[104X
  [4X[32X[104X
  
  
  [1X8.1-9 [33X[0;0YNatural homomorphism by normal subloop[133X[101X
  
  [33X[1;0Y[29X[2XNaturalHomomorphismByNormalSubloop[102X( [3XQ[103X, [3XS[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XNaturalHomomorphismByNormalSubloopNC[102X( [3XQ[103X, [3XS[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ythe natural projection from the loop [3XQ[103X to the factor loop [3XQ[103X[10X/[110X[3XS[103X. The
            [10XNC[110X version does not check whether [3XS[103X is a normal subloop of [3XQ[103X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := MoufangLoop( 12, 1 );[127X[104X
    [4X[28XMoufangLoop( 12, 1 )[128X[104X
    [4X[25Xgap>[125X [27Xf := NaturalHomomorphismByNormalSubloop( Q, Subloop(Q, [Q.2,Q.3] ) );[127X[104X
    [4X[28XMappingByFunction( MoufangLoop( 12, 1 ), <Moufang loop of size 2>, fun\[128X[104X
    [4X[28Xction( x ) ... end )[128X[104X
  [4X[32X[104X
  
  
  [1X8.2 [33X[0;0YIsomorphs of right quasigroups[133X[101X
  
  [33X[0;0YIf  [23Xf:(Q,\cdot)\to  (Q,*)[123X  is  an  isomorphism,  then [23Xx*y = f(f^{-1}(x)\cdot
  f^{-1}(y))[123X  for  all  [23Xx,y\in Q[123X, and [23X(Q,*)[123X is called an [13Xisomorph[113X of [23X(Q,\cdot)[123X
  via [23Xf[123X.[133X
  
  [33X[0;0YFor the convenience of the reader, functions that construct isomorphs accept
  a wide variety of arguments representing mappings:[133X
  
  [30X    [33X[0;6YThe  argument  [3Xf[103X  is  mandatory  and can be given as a bijective right
        quasigroup mapping, a bijective transformation or a permutation.[133X
  
  [30X    [33X[0;6YIf  [3Xf[103X is given as a transformation/permutation, the argument [3XQ[103X is also
        required,  and  it must be a right quasigroup, quasigroup or loop. The
        returned algebra will have the same underlying set as [3XQ[103X. If [3Xf[103X is given
        as a right quasigroup mapping, its source will be used as [3XQ[103X.[133X
  
  [30X    [33X[0;6YAny   subset   of   the   two   optional   arguments  [3XisCanonical[103X  and
        [3XconstructorStyle[103X can be given.[133X
  
  [30X    [33X[0;6YIf  the  optional  argument  [3XisCanonical[103X is given and set to [10Xtrue[110X, the
        permutation/transformation   [3Xf[103X   is   interpreted   as   a   canonical
        permutation/transformation,  else  it  is  by  default  interpreted as
        parent permutation/transformation. (See Chapter [14X4[114X.)[133X
  
  [30X    [33X[0;6YSee Section [14X2.1[114X for the optional argument [3XconstructorStyle[103X.[133X
  
  
  [1X8.2-1 [33X[0;0YIsomorphs[133X[101X
  
  [33X[1;0Y[29X[2XRightQuasigroupIsomorph[102X( [[3XQ[103X, ][3Xf[103X[, [3XisCanonical[103X, [3XconstructorStyle[103X] ) [32X function[133X
  [33X[1;0Y[29X[2XQuasigroupIsomorph[102X( [[3XQ[103X, ][3Xf[103X[, [3XisCanonical[103X, [3XconstructorStyle[103X] ) [32X function[133X
  [33X[1;0Y[29X[2XLoopIsomorph[102X( [[3XQ[103X, ][3Xf[103X[, [3XisCanonical[103X, [3XconstructorStyle[103X] ) [32X function[133X
  [6XReturns:[106X  [33X[0;10Ythe  isomorph  of the right quasigroup (quasigroup, loop) [3XQ[103X via [3Xf[103X.
            See  above for conventions on the arguments. An effort is made for
            the isomorph to inherit properties from [3XQ[103X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ1 := MoufangLoop( 12, 1 );[127X[104X
    [4X[28XMoufangLoop( 12, 1 )[128X[104X
    [4X[25Xgap>[125X [27XQ2 := LoopIsomorph( Q1, (3,4,5) ); # Other kinds of mappings are accepted. Note inherited properties.[127X[104X
    [4X[28X<Moufang loop of size 12>[128X[104X
  [4X[32X[104X
  
  
  [1X8.3 [33X[0;0YRight quasigroups up to isomorphisms[133X[101X
  
  [33X[0;0YTo  decide  if  two right quasigroups are isomorphic, [5XRightQuasigroups[105X first
  calculates  some  isomorphism  invariants  and  a  partition invariant under
  isomorphisms,  and then determines if there is an isomorphisms that respects
  the partition.[133X
  
  [1X8.3-1 IsomorphismDiscriminator[101X
  
  [33X[1;0Y[29X[2XIsomorphismDiscriminator[102X( [3XQ[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ya  data  structure  suitable for isomorphism searches from a right
            quasigroup [10XQ[110X.[133X
  
  [1X8.3-2 AreEqualIsomorphismDiscriminators[101X
  
  [33X[1;0Y[29X[2XAreEqualIsomorphismDiscriminators[102X( [3Xdis1[103X, [3Xdis2[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Y[10Xtrue[110X  if  the  two  isomorphism  discriminators  [10Xdis1[110X,  [10Xdis2[110X (each
            returned by [10XIsomorphismDiscriminator[110X) are equal as discriminators,
            else  returns  [10Xfalse[110X.  If [10Xfalse[110X is returned, the two disriminators
            correspond  to  right quasigroups that are not isomorphic. If [10Xtrue[110X
            is   returned,   the  corresponding  right  quasigroups  might  be
            isomorphic.[133X
  
  
  [1X8.3-3 [33X[0;0YIsomorphismRightQuasigroups, IsomorphismQuasigroups, IsomorphismLoops[133X[101X
  
  [33X[1;0Y[29X[2XIsomorphismRightQuasigroups[102X( [3XQ1[103X, [3XQ2[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsomorphismQuasigroups[102X( [3XQ1[103X, [3XQ2[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XIsomorphismLoops[102X( [3XQ1[103X, [3XQ2[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Yan  isomorphism between the right quasigroups (quasigroups, loops)
            [10XQ1[110X  and  [10XQ2[110X,  if  one exists, else returns [10Xfail[110X. If an isomorphism
            from  [10XQ1[110X  to  [10XQ2[110X  exists,  it  is  returned  as a right quasigroup
            mapping.  See  Chapter  [14X4[114X  for  conversion options of the returned
            mapping.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ1 := RightQuasigroupByFunction( [0..9], function(x,y) return (x+2*y) mod 10; end );[127X[104X
    [4X[28X<right quasigroup of size 10>[128X[104X
    [4X[25Xgap>[125X [27XQ2 := RightQuasigroupIsomorph( Q1, (3,4,5) );[127X[104X
    [4X[28X<right quasigroup of size 10>[128X[104X
    [4X[25Xgap>[125X [27XIsomorphismRightQuasigroups( Q1, Q2 );[127X[104X
    [4X[28XMappingByFunction( <right quasigroup of size 10>, <right quasigroup of\[128X[104X
    [4X[28X size 10>, function( x ) ... end )[128X[104X
    [4X[25Xgap>[125X [27XAsCanonicalTransformation( last );[127X[104X
    [4X[28XTransformation( [ 1, 2, 4, 5, 3 ] )[128X[104X
    [4X[25Xgap>[125X [27XAsPermutation( last );[127X[104X
    [4X[28X(3,4,5)[128X[104X
  [4X[32X[104X
  
  
  [1X8.3-4 [33X[0;0YRight quasigroups up to isomorphism[133X[101X
  
  [33X[1;0Y[29X[2XRightQuasigroupsUpToIsomorphism[102X( [3Xls[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XQuasigroupsUpToIsomorphism[102X( [3Xls[103X ) [32X operation[133X
  [33X[1;0Y[29X[2XLoopsUpToIsomorphism[102X( [3Xls[103X ) [32X operation[133X
  [6XReturns:[106X  [33X[0;10Ya  sublist of [10Xls[110X consisting of all right quasigroups (quasigroups,
            loops) in [10Xls[110X up to isomorphism.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ1 := CheinLoop( SymmetricGroup( 3 ) );;[127X[104X
    [4X[25Xgap>[125X [27XQ2 := LoopIsomorph( Q1, (1,2) );;[127X[104X
    [4X[25Xgap>[125X [27XQ3 := AsLoop( CyclicGroup( 12 ) );;[127X[104X
    [4X[25Xgap>[125X [27Xlps := LoopsUpToIsomorphism( [ Q1, Q2, Q3 ] );[127X[104X
    [4X[28X[ <Moufang loop of size 12>, <associative loop of size 12> ][128X[104X
    [4X[25Xgap>[125X [27Xlps[1] = Q1; lps[2] = Q3;[127X[104X
    [4X[28Xtrue[128X[104X
    [4X[28Xtrue[128X[104X
  [4X[32X[104X
  
  
  [1X8.4 [33X[0;0YAutomorphism groups of right quasigroups[133X[101X
  
  [1X8.4-1 AutomorphismGroup[101X
  
  [33X[1;0Y[29X[2XAutomorphismGroup[102X( [3XQ[103X ) [32X attribute[133X
  [6XReturns:[106X  [33X[0;10Ythe  automorphism group of the right quasigroup [10XQ[110X as a subgroup of
            the symmetric group on [10X[1..Size(Parent(Q))][110X.[133X
  
  [4X[32X  Example  [32X[104X
    [4X[25Xgap>[125X [27XQ := MoufangLoop( 12, 1 );[127X[104X
    [4X[28XMoufangLoop( 12, 1 )[128X[104X
    [4X[25Xgap>[125X [27Xag := AutomorphismGroup( Q );; IdGroup( ag );[127X[104X
    [4X[28X[ 108, 17 ][128X[104X
    [4X[25Xgap>[125X [27XS := Subloop( Q, [Q.3] );; ParentInd( S );[127X[104X
    [4X[28X[ 1, 3, 5 ][128X[104X
    [4X[25Xgap>[125X [27XAutomorphismGroup( S ); # consists of parent permutations[127X[104X
    [4X[28XGroup([ (3,5) ])[128X[104X
  [4X[32X[104X
  
